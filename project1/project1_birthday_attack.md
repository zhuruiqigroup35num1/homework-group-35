# SM3 Naive Birthday Attack  

## 利用生日攻击攻击SM3  
### 背景引入： 哈希碰撞：两个不同的输入值通过哈希后得到相同的哈希值，这对碰撞在伪造等密码学攻击中起到重要作用。 生日攻击：生日攻击是一种密码学攻击手段，所利用的是概率论中生日问题的数学原理。这种攻击手段可用于滥用两个或多个集团之间的通信。此攻击依赖于在随机攻击中的高碰撞概率和固定置换次数（鸽巢原理）。 经典案例：需要统计多少学生才有50%以上的概率找到两个学生同一天生，答案是23人，而达到70人的统计数我们将达到99.9%以上的概率。由此，我们利用这样的生日攻击原理寻求哈希碰撞。我们统计1.17*根号n（n为哈希值的空间大小）数量的输入值，就有50%以上的概率找到一对哈希碰撞  
## 简要思路：  
生日攻击SM3算法的思路如下：  
1.首先，生成一组随机消息并计算它们的哈希值。假设每个消息的长度为N比特，生成的消息数为2^k  
2.然后，将哈希值分成m个分组，每个分组的长度为l比特  
3.接着，计算每个分组的哈希值，并将结果保存在一个哈希表中。哈希表的键为哈希值，值为该哈希值对应的消息  
4.遍历哈希表，查找任何两个哈希值相同的消息。如果找到了两个相同的哈希值，则说明SM3算法存在生日攻击漏洞  
5.如果找不到相同的哈希值，那么将N增加一位，重复步骤1-4，直到找到相同的哈希值  
6.根据生日攻击的性质，通常需要尝试O(2^(N/2))个随机消息才会出现相同的哈希值  
7.利用找到的相同哈希值，可以构造出具有相同哈希值的两个不同的消息。这就使得攻击者可以伪造数字签名或造成其他安全问题  
# 运行环境：  
硬件环境：  
处理器：AMD Ryzen 7 5800H with Radeon Graphics   
CPU： 3.20 GHz内存：16.0 GB (15.9 GB 可用)  
软件环境：  
操作系统：win11   
编译器：IDLE 3.8   

# 核心代码实现：

![Image_test](https://github.com/zhuruiqigroup35num1/homework-group-35/blob/main/image/project1_1.png)  
# 运行结果测试：  
Bit长度是： 26  
sum_time = 1.1805808544158936    
Bit长度为哈希值长度，也就是其空间大小为2^26  
其中sum_time为总时长  
![Image_test](https://github.com/zhuruiqigroup35num1/homework-group-35/blob/main/image/project1_2.png)  
